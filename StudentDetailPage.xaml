<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="LearningManagment.StudentDetailPage"
             Title="Оценки студента"
             BackgroundColor="#F8FAFC">

	<ScrollView>
		<VerticalStackLayout Padding="20" Spacing="20">

			<!-- Имя и средний балл -->
			<Frame BackgroundColor="White" CornerRadius="12" HasShadow="True" Padding="20">
				<VerticalStackLayout Spacing="10">
					<Label Text="{Binding Name}"
                           FontSize="24"
                           FontAttributes="Bold"
                           TextColor="Black"
                           HorizontalOptions="Center" />
					<Label Text="{Binding AverageGrade, StringFormat='Средний балл: {0:F2}'}"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="#2563EB"
                           HorizontalOptions="Center" />
				</VerticalStackLayout>
			</Frame>

			<!-- Список оценок -->
			<Frame BackgroundColor="White" CornerRadius="12" HasShadow="True" Padding="15">
				<VerticalStackLayout Spacing="10">
					<Label Text="Оценки по предметам"
                           FontSize="18"
                           FontAttributes="Bold"
                           TextColor="Black" />

					<CollectionView ItemsSource="{Binding Grades}" HeightRequest="400">
						<CollectionView.EmptyView>
							<Label Text="Оценок пока нет"
                                   FontSize="16"
                                   TextColor="Gray"
                                   HorizontalOptions="Center" />
						</CollectionView.EmptyView>

						<CollectionView.ItemTemplate>
							<DataTemplate>
								<Grid ColumnDefinitions="*, Auto" Padding="10,12">
									<Label Text="{Binding Subject.Name}"
                                           FontSize="18"
                                           TextColor="Black"
                                           VerticalOptions="Center" />
									<Label Grid.Column="1"
                                           Text="{Binding Value, StringFormat='{0:F1}'}"
                                           FontSize="20"
                                           FontAttributes="Bold"
                                           TextColor="#10B981"
                                           VerticalOptions="Center" />
								</Grid>
							</DataTemplate>
						</CollectionView.ItemTemplate>
					</CollectionView>
				</VerticalStackLayout>
			</Frame>

		</VerticalStackLayout>
	</ScrollView>
</ContentPage>